<!-- ******************************************
*  Autor : José Panero Otero   
*  Creado el : Sat May 23 2020
*  Archivo : index.html
******************************************* -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="author" content="José Panero Otero" />
		<meta name="google-signin-scope" content="profile email">
    	<meta name="google-signin-client_id" content="456850761165-rlkemdhdoic4i1h34pr1bl00sqvi23mp.apps.googleusercontent.com">
    	<script src="https://apis.google.com/js/platform.js" async defer></script>
		<title>Demo de Google Sign-In</title>
	</head>
	<body>
		<div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
		<br />
		<a href="#" onclick="signOut();">Cerrar Sesión</a>
		<script type="text/javascript">
			function signOut(){
				var auth2 = gapi.auth2.getAuthInstance();
				auth2.signOut().then(function(){
					console.log('Usuario desconecatdo');
				});
			}
		</script>
		<div id="contenedor"></div>
		<script type="text/javascript">
		function onSignIn(googleUser) {
			// Useful data for your client-side scripts:
			var profile = googleUser.getBasicProfile();
			// console.log("ID: " + profile.getId()); // Don't send this directly to your server!
			// console.log('Full Name: ' + profile.getName());
			// console.log('Given Name: ' + profile.getGivenName());
			// console.log('Family Name: ' + profile.getFamilyName());
			// console.log("Image URL: " + profile.getImageUrl());
			// console.log("Email: " + profile.getEmail());
			var id =  profile.getId(); 
			var nombre = profile.getName();
			var given = profile.getGivenName();
			var family = profile.getFamilyName();
			var url = profile.getImageUrl();
			var email = profile.getEmail();

			// The ID token you need to pass to your backend:
			var id_token = googleUser.getAuthResponse().id_token;
			//console.log("ID Token: " + id_token);

			var contenedor = document.getElementById("contenedor");
			contenedor.innerHTML = 'ID: ' + id + ' <br />' + 'Full Name: ' + nombre + ' <br /> ' + 'Given Name: ' + given + ' <br /> ' + 'Family Name: ' + family + ' <br /> ' + 'Image URL: ' + url + ' <br /> ' + 'Email: ' + email + ' <br /> ' + ' ID Token: ' + id_token + ' .';
		}
		</script>
	</body>
</html>